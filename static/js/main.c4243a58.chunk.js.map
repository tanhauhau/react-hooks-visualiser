{"version":3,"sources":["components/Editor.module.scss","App.module.scss","components/Editor.js","components/EditorPanel.js","utils/ProxyObject.js","utils/ContextObject.js","components/Data.js","components/ObjectHover.js","components/Table.js","components/Hooks.js","components/Effect.js","components/Scope.js","components/Props.js","components/Context.js","components/History.js","components/Tab.js","utils/babel.js","utils/useBabel.js","utils/useCodeRunner.js","utils/hook.js","utils/useHistory.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","readOnly","app","leftPanel","rightPanel","Editor","_ref","code","onCodeChange","props","Object","objectWithoutProperties","react_default","a","createElement","lib_default","assign","mode","theme","width","height","onChange","name","value","showPrintMargin","editorProps","$blockScrolling","setOptions","useWorker","className","styles","Button","styled","button","_templateObject","Container","div","_templateObject2","HintText","span","_templateObject3","EditorPanel","disableRun","running","onRun","onReset","onNext","nextText","nextHint","onClick","disabled","Fragment","ProxyObject","data","classCallCheck","this","newData","ContextObject","Data","concat","rawData","getValue","undefined","JSON","stringify","DispatchContext","React","createContext","StateContext","map","WeakMap","index","reducer","state","action","type","objectSpread","defineProperty","get","initialState","ObjectHoverProvider","children","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","Provider","HoverDiv","ObjectHover_templateObject","highlight","color","ObjectHover","_ref2","useContext","isHoverable","fn","fnIndex","has","set","randomcolor","luminosity","seed","onMouseEnter","onMouseLeave","Table","Table_templateObject","TableHeader","Table_templateObject2","TableData","Table_templateObject3","HooksContainer","Hooks_templateObject","HookDiv","Hooks_templateObject2","HookTitleDiv","Hooks_templateObject3","HookBody","_templateObject4","HookArrow","_templateObject5","HookRightArrow","_templateObject6","Hooks","hook","hooks","hookPointer","Hooks_Hook","key","active","Hook","HookData","HOOK_DATA_MAP","useState","_ref4","setState","_ref5","useCallback","_ref6","callback","deps","dep","useMemo","_ref7","memoised","_ref8","context","useEffect","_ref9","destructure","_ref3","HookDataComponent","Effect","Effect_templateObject","Effects","effects","effect","idx","Header","Scope_templateObject","Scope","scopes","lastScope","length","_useState","_useState2","scopeIndex","setScopeIndex","scope","e","target","_","keys","Props","onPropsChange","ContentEditable","contentEditable","suppressContentEditableWarning","onBlur","newValue","str","parse","tryParse","textContent","onKeyDown","keyCode","preventDefault","blur","Context","onContextChange","Context_ContentEditable","History","history","ref","useRef","current","scrollTo","scrollHeight","style","overflow","item","HistoryItem","Item","History_templateObject","status","Logs","logs","statementIndex","isComponentDirty","componentName","Array","isArray","log","Log","HookBadge","History_templateObject2","Badge","History_templateObject3","LOG_MAP","error","String","if","assignment","id","render","href","rel","updateProps","updateContext","_ref10","hooks/useState","_ref11","isInitial","update/useState","_ref12","oldValue","hooks/useReducer","_ref13","init","initialArg","update/useReducer","_ref14","nextState","oldState","hooks/useCallback","_ref15","Deps","update/useCallback","_ref16","prevDeps","shouldUpdate","prevCallback","hooks/useMemo","_ref17","memo","update/useMemo","_ref18","prevMemoised","hooks/useContext","_ref20","update/useContext","_ref21","hooks/useEffect","_ref22","update/useEffect","_ref23","prevDestructure","effect/flush","_ref24","prevCleanup","LogComponent","_ref19","gray","TabsOuterContainer","Tab_templateObject","TabsContainer","Tab_templateObject2","TabContainer","Tab_templateObject3","TabHeaderContainer","Tab_templateObject4","TabHeader","Tab_templateObject5","TabDivider","Tab_templateObject6","Tabs","defaultTab","tabs","child","activeTab","setActiveTab","tab","cloneElement","Tab","babelOptions","ast","presets","reactPreset","plugins","manipulateOptions","opts","parserOpts","push","useBabel","initialCode","setCode","_useState3","_useState4","setError","_useState5","_useState6","setAst","debouncedCode","delay","_useState7","_useState8","debounceValue","setDebounceValue","handler","setTimeout","clearTimeout","useDebounce","cancel","babel","then","catch","codeRunnerReducer","_analyseCode","componentFunction","exportDefault","program","body","filter","node","declaration","tryFindComponentFunction","getComponentName","propNames","params","properties","property","console","getProps","statements","flattenStatements","result","i","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","Symbol","iterator","next","done","statement","declarations","forEach","ifStatement","consequent","normalizeBlock","alternate","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","s","err","return","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_evalRestOfCodeIntoSc","otherCodes","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","otherCode","executeStatement","evalRestOfCodeIntoScope","outerScope","analyseCode","keysToObjects","nextStatementIndex","ifResult","nextStatement","statementAt","output","clone","loc","_executeStatement","slice","toConsumableArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","pointer","cleanupFn","newHooks","method","hookType","hookIndex","alert","newContext","setValue","_this","expectHook","_this$hooks$this$hook","_this2","arguments","_this$hooks$this$hook2","newCallback","newMemoised","hookName","currentHookName","Error","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","nextScope","nextHook","nextContext","nextOutput","evaluateExpression","elements","identifier","argument","expression","test","warn","dangerousEvalWithScope","element","callee","startsWith","args","apply","obj","object","prop","defaultValue","namedFunction","Function","join","reduce","historyReducer","window","location","hash","replace","split","part","parts","decodeURIComponent","App_templateObject","VerticalContainer","App_templateObject2","App_templateObject3","App","_useBabel","_useBabel2","_useCodeRunner","setDispatch","useCodeRunner","_useCodeRunner2","codeState","dispatchCodeAction","_useHistory","dispatchHistory","currentState","clearHistory","useHistory","_useHistory2","currentCodeState","codeStateHistory","marker","_currentCodeState$sta","start","end","startRow","line","startCol","column","endRow","endCol","encodeURIComponent","useQueryParams","index_esm","defaultSize","App_Container","markers","App_Header","Boolean","hostname","match","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c4243a58.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"readOnly\":\"Editor_readOnly__19leJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3Y2AX\",\"leftPanel\":\"App_leftPanel__nuIIq\",\"rightPanel\":\"App_rightPanel__135wQ\"};","// @flow\nimport React from 'react';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/javascript';\nimport 'brace/theme/github';\nimport styles from './Editor.module.scss';\n\ntype PropTypes = {\n  code: string,\n  onCodeChange: string => void,\n};\nexport default function Editor({\n  code,\n  onCodeChange,\n  readOnly,\n  ...props\n}: PropTypes) {\n  return (\n    <AceEditor\n      mode=\"javascript\"\n      theme=\"github\"\n      width=\"100%\"\n      height=\"100%\"\n      onChange={onCodeChange}\n      name=\"code\"\n      value={code}\n      showPrintMargin={false}\n      editorProps={{ $blockScrolling: true }}\n      setOptions={{ useWorker: false }}\n      readOnly={readOnly}\n      className={(readOnly ? styles.readOnly : '') + ' ace_editor ace-github'}\n      {...props}\n    />\n  );\n}\n","// @flow\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst Button = styled.button`\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid palevioletred;\n  color: palevioletred;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n  cursor: pointer;\n  outline: none;\n  user-select: none;\n\n  :hover {\n    background: palevioletred;\n    color: white;\n  }\n  \n  &[disabled] {\n    color: gray;\n    border-color: gray;\n    background: white;\n    cursor: not-allowed;\n  }\n`;\n\nconst Container = styled.div`\n  padding: 8px 16px;\n`;\nconst HintText = styled.span`\n  color: palevioletred;\n  font-size: 0.8em;\n  ::before {\n    content: '*'\n  }\n`;\n\nexport default function EditorPanel({\n  disableRun,\n  running,\n  onRun,\n  onReset,\n  onNext,\n  nextText,\n  nextHint\n}) {\n  return (\n    <Container>\n      {running ? (\n        <Button onClick={onReset}>{'Reset'}</Button>\n      ) : (\n        <Button onClick={onRun} disabled={disableRun}>{'Run'}</Button>\n      )}\n      {running && (\n        <>\n          <Button onClick={onNext}>{nextText}</Button>\n          {nextHint && <HintText>{nextHint}</HintText>}\n        </>\n      )}\n    </Container>\n  );\n}\n","// @flow\n\nexport default class ProxyObject {\n  constructor(data) {\n    this.data = data;\n  }\n  getValue() {\n    return this.data;\n  }\n  setValue(newData) {\n    if (newData !== this.data) {\n      return new ProxyObject(newData);\n    }\n    return this;\n  }\n}\n","export default class ContextObject {\n  constructor(name, value) {\n    this.name = name;\n    this.value = value;\n  }\n  setValue(value) {\n    return new ContextObject(this.name, value);\n  }\n}","import ProxyObject from '../utils/ProxyObject';\nimport ContextObject from '../utils/ContextObject';\n\nexport default function Data({ data }) {\n  if (typeof data === 'function') {\n    return `Function{${data.name || 'anonymous'}}`;\n  }\n\n  if (data instanceof ContextObject) {\n    return `Context{${data.name}}`;\n  }\n\n  let rawData = data;\n  if (data instanceof ProxyObject) {\n    rawData = data.getValue();\n  }\n\n  if (data === undefined) {\n    return 'undefined';\n  }\n\n  return JSON.stringify(rawData);\n}\n","import React, { useContext, useReducer } from 'react';\nimport styled from 'styled-components';\nimport randomcolor from 'randomcolor';\nimport ProxyObject from '../utils/ProxyObject';\nimport ContextObject from '../utils/ContextObject';\nimport Data from './Data';\n\nconst DispatchContext = React.createContext();\nconst StateContext = React.createContext();\n\nconst map = new WeakMap();\nlet index = 0;\n\nfunction ensureMap(fn) {\n  if (!map.has(fn)) {\n    map.set(fn, index++);\n  }\n  return map.get(fn);\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'hover':\n      return {\n        ...state,\n        [map.get(action.data)]: true,\n      };\n    case 'unhover':\n      return {\n        ...state,\n        [map.get(action.data)]: false,\n      };\n    default:\n      return state;\n  }\n};\nconst initialState = {};\n\nexport function ObjectHoverProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <DispatchContext.Provider value={dispatch}>\n      <StateContext.Provider value={state}>{children}</StateContext.Provider>\n    </DispatchContext.Provider>\n  );\n}\n\nconst HoverDiv = styled.div`\n  color: ${props => (props.highlight ? 'white' : props.color)};\n  background: ${props => (props.highlight ? props.color : 'transparent')};\n  display: inline-block;\n  cursor: pointer;\n`;\n\nexport function ObjectHover({ data }) {\n  const state = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n\n  if (!isHoverable(data)) {\n    return <Data data={data} />;\n  }\n\n  const fnIndex = ensureMap(data);\n\n  return (\n    <HoverDiv\n      color={randomcolor({ luminosity: 'dark', seed: fnIndex * 10 })}\n      highlight={state[fnIndex]}\n      onMouseEnter={() => dispatch({ type: 'hover', data: data })}\n      onMouseLeave={() => dispatch({ type: 'unhover', data: data })}\n    >\n      <Data data={data} />\n    </HoverDiv>\n  );\n}\n\nfunction isHoverable(data) {\n  return (\n    typeof data === 'function' ||\n    data instanceof ProxyObject ||\n    data instanceof ContextObject\n  );\n}\n","import styled from 'styled-components';\n\nexport const Table = styled.div`\n  display: grid;\n  grid-template-columns: auto auto;\n  align-items: center;\n  justify-items: center;\n`;\n\nexport const TableHeader = styled.div`\n  grid-column: 1;\n  justify-self: end;\n  font-weight: 500;\n  margin-right: 4px;\n`;\n\nexport const TableData = styled.div`\n  grid-column: 2;\n  color: #555;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { ObjectHover } from './ObjectHover';\nimport { Table, TableHeader, TableData } from './Table';\n\nconst HooksContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 12px;\n`;\nconst HookDiv = styled.div`\n  border: 1px solid forestgreen;\n  border-radius: 4px;\n  display: inline-block;\n  position: relative;\n`;\nconst HookTitleDiv = styled.div`\n  background: forestgreen;\n  color: white;\n  padding: 4px;\n`;\nconst HookBody = styled.div`\n  padding: 4px;\n`;\nconst HookArrow = styled.div`\n  color: forestgreen;\n`;\nconst HookRightArrow = styled.div`\n  position: absolute;\n  right: 100%;\n  top: 50%;\n  transform: translateY(-50%);\n  margin-right: 5px;\n`;\n\nexport default function Hooks({ hook }) {\n  const { hooks, hookPointer } = hook;\n  return (\n    <HooksContainer>\n      {hooks.map((hook, index) => (\n        <Hook key={index} active={index === hookPointer} hook={hook} />\n      ))}\n    </HooksContainer>\n  );\n}\n\nfunction Hook({ hook, active, children }) {\n  return (\n    <>\n      <HookArrow>  </HookArrow>\n      <HookDiv>\n        {active && <HookRightArrow></HookRightArrow>}\n        <HookTitleDiv>{hook.type}</HookTitleDiv>\n        <HookBody>\n          <HookData hook={hook} />\n        </HookBody>\n      </HookDiv>\n    </>\n  );\n}\n\nconst HOOK_DATA_MAP = {\n  useState: HookUseState,\n  useReducer: HookUseReducer,\n  useCallback: HookUseCallback,\n  useMemo: HookUseMemo,\n  useContext: HookUseContext,\n  useEffect: HookUseEffect,\n};\n\nfunction HookData({ hook }) {\n  const HookDataComponent = HOOK_DATA_MAP[hook.type];\n  if (HookDataComponent) {\n    return <HookDataComponent hook={hook} />;\n  }\n  return null;\n}\n\nfunction HookUseState({ hook }) {\n  return (\n    <Table>\n      <TableHeader>state</TableHeader>\n      <TableData>\n        <ObjectHover data={hook.state} />\n      </TableData>\n      <TableHeader>setState</TableHeader>\n      <TableData>\n        <ObjectHover data={hook.setState} />\n      </TableData>\n    </Table>\n  );\n}\n\nfunction HookUseReducer({ hook }) {\n  return (\n    <Table>\n      <TableHeader>state</TableHeader>\n      <TableData>\n        <ObjectHover data={hook.state} />\n      </TableData>\n      <TableHeader>reducer</TableHeader>\n      <TableData>\n        <ObjectHover data={hook.reducer} />\n      </TableData>\n      <TableHeader>dispatch</TableHeader>\n      <TableData>\n        <ObjectHover data={hook.dispatch} />\n      </TableData>\n    </Table>\n  );\n}\n\nfunction HookUseCallback({ hook }) {\n  const { callback, deps } = hook;\n  return (\n    <Table>\n      <TableHeader>Callback</TableHeader>\n      <TableData>\n        <ObjectHover data={callback} />\n      </TableData>\n      <TableHeader>Deps</TableHeader>\n      <TableData>\n        {'['}\n        {deps.map((dep, index) => (\n          <React.Fragment key={index}>\n            {index > 0 ? ',' : null}\n            <ObjectHover data={dep} />\n          </React.Fragment>\n        ))}\n        {']'}\n      </TableData>\n    </Table>\n  );\n}\n\nfunction HookUseMemo({ hook }) {\n  const { memoised, deps } = hook;\n  return (\n    <Table>\n      <TableHeader>Memoised</TableHeader>\n      <TableData>\n        <ObjectHover data={memoised} />\n      </TableData>\n      <TableHeader>Deps</TableHeader>\n      <TableData>\n        {'['}\n        {deps.map((dep, index) => (\n          <React.Fragment key={index}>\n            {index > 0 ? ',' : null}\n            <ObjectHover data={dep} />\n          </React.Fragment>\n        ))}\n        {']'}\n      </TableData>\n    </Table>\n  );\n}\n\nfunction HookUseContext({ hook }) {\n  const { context } = hook;\n  return (\n    <Table>\n      <TableHeader>Context</TableHeader>\n      <TableData>\n        <ObjectHover data={context} />\n      </TableData>\n    </Table>\n  );\n}\n\nfunction HookUseEffect({ hook }) {\n  const { callback, deps, destructure } = hook;\n  return (\n    <Table>\n      <TableHeader>Callback</TableHeader>\n      <TableData>\n        <ObjectHover data={callback} />\n      </TableData>\n      <TableHeader>Deps</TableHeader>\n      <TableData>\n        {'['}\n        {deps.map((dep, index) => (\n          <React.Fragment key={index}>\n            {index > 0 ? ',' : null}\n            <ObjectHover data={dep} />\n          </React.Fragment>\n        ))}\n        {']'}\n      </TableData>\n      <TableHeader>Cleanup</TableHeader>\n      <TableData>\n        <ObjectHover data={destructure} />\n      </TableData>\n    </Table>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { ObjectHover } from './ObjectHover';\n\nconst Effect = styled.div`\n  border-radius: 4px;\n  border: 1px solid black;\n`;\n\nexport default function Effects({ effects }) {\n  return effects.map((effect, idx) => (\n    <Effect key={idx}>\n      <ObjectHover data={effect.callback} />\n    </Effect>\n  ));\n}\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Table, TableHeader, TableData } from './Table';\nimport { ObjectHover } from './ObjectHover';\n\nconst Header = styled.div`\n  padding: 4px;\n  text-align: center;\n`;\n\nexport default function Scope({ scopes }) {\n  const lastScope = scopes.length - 1;\n  const [scopeIndex, setScopeIndex] = useState(lastScope);\n  const scope = scopes[scopeIndex];\n\n  useEffect(() => {\n    setScopeIndex(lastScope);\n  }, [lastScope]);\n\n  return (\n    <>\n      <Header>\n        <select\n          value={scopeIndex}\n          onChange={e => setScopeIndex(e.target.value)}\n        >\n          {scopes.map((_, index) => (\n            <option key={index} value={index}>\n              {index === lastScope ? 'Current Scope' : `Scope ${index}`}\n            </option>\n          ))}\n        </select>\n      </Header>\n      <Table>\n        {Object.keys(scope).map(key => (\n          <React.Fragment key={key}>\n            <TableHeader>{key}</TableHeader>\n            <TableData>\n              <ObjectHover data={scope[key]} />\n            </TableData>\n          </React.Fragment>\n        ))}\n      </Table>\n    </>\n  );\n}\n","import React from 'react';\nimport { Table, TableHeader, TableData } from './Table';\nimport { ObjectHover } from './ObjectHover';\n\nexport default function Props({ props, onPropsChange }) {\n  return (\n    <Table>\n      {Object.keys(props).map(key => (\n        <React.Fragment key={key}>\n          <TableHeader>{key}</TableHeader>\n          <TableData>\n            <ContentEditable\n              value={props[key]}\n              onChange={value => onPropsChange(key, value)}\n            />\n          </TableData>\n        </React.Fragment>\n      ))}\n    </Table>\n  );\n}\n\nfunction ContentEditable({ value, onChange }) {\n  const onInput = e => {\n    const newValue = tryParse(e.target.textContent);\n    if (newValue !== value) {\n      onChange(newValue);\n    }\n  };\n  return (\n    <div\n      contentEditable={true}\n      suppressContentEditableWarning={true}\n      onBlur={onInput}\n      onKeyDown={e => {\n        if (e.keyCode === 13) {\n          e.preventDefault();\n          e.target.blur();\n        }\n      }}\n    >\n      <ObjectHover data={value} />\n    </div>\n  );\n}\n\nfunction tryParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    return str;\n  }\n}\n","import React from 'react';\nimport { Table, TableHeader, TableData } from './Table';\nimport { ObjectHover } from './ObjectHover';\n\nexport default function Context({ context, onContextChange }) {\n  return (\n    <Table>\n      {Object.keys(context).map(key => (\n        <React.Fragment key={key}>\n          <TableHeader>\n            <ObjectHover data={context[key]} />\n          </TableHeader>\n          <TableData>\n            <ContentEditable\n              value={context[key].value}\n              onChange={value => onContextChange(key, value)}\n            />\n          </TableData>\n        </React.Fragment>\n      ))}\n    </Table>\n  );\n}\n\nfunction ContentEditable({ value, onChange }) {\n  const onInput = e => {\n    const newValue = tryParse(e.target.textContent);\n    if (newValue !== value) {\n      onChange(newValue);\n    }\n  };\n  return (\n    <div\n      contentEditable={true}\n      suppressContentEditableWarning={true}\n      onBlur={onInput}\n      onKeyDown={e => {\n        if (e.keyCode === 13) {\n          e.preventDefault();\n          e.target.blur();\n        }\n      }}\n    >\n      <ObjectHover data={value} />\n    </div>\n  );\n}\n\nfunction tryParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    return str;\n  }\n}\n","import React, { useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { ObjectHover } from './ObjectHover';\n\nexport default function History({ history }) {\n  const ref = useRef();\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.scrollTo(0, ref.current.scrollHeight);\n    }\n  }, [history]);\n\n  if (!history) {\n    return null;\n  }\n\n  return (\n    <div\n      style={{ width: '100%', height: '100%', overflow: 'scroll' }}\n      ref={ref}\n    >\n      {history.map((item, index) => (\n        <HistoryItem key={index} item={item} />\n      ))}\n    </div>\n  );\n}\n\nconst Item = styled.div`\n  margin: 4px;\n  padding: 8px;\n  border-radius: 4px;\n  border: 1px solid gray;\n  transition: transform 200ms ease-in-out;\n  cursor: pointer;\n\n  :hover {\n    transform: translate(-1px, -1px);\n  }\n`;\n\nfunction HistoryItem({ item }) {\n  if (item.status !== 'running') {\n    // filter out 'ready' state\n    return null;\n  }\n  return (\n    <Item>\n      <Logs logs={item.logs} />\n      {item.statementIndex < 0\n        ? item.isComponentDirty\n          ? `${item.componentName} has been scheduled for a re-render`\n          : `${item.componentName} is ready to be rendered`\n        : null}\n    </Item>\n  );\n}\n\nfunction Logs({ logs }) {\n  if (!logs || !Array.isArray(logs)) {\n    return null;\n  }\n  return logs.map((log, index) => <Log key={index} log={log} />);\n}\n\nconst HookBadge = styled.div`\n  display: inline-block;\n  border-radius: 4px;\n  color: white;\n  background-color: slateblue;\n  padding: 1px 4px;\n  font-weight: 500;\n  font-size: 0.8em;\n  margin-right: 4px;\n`;\nconst Badge = styled.div`\n  display: inline-block;\n  border-radius: 4px;\n  color: white;\n  background-color: ${props => props.color};\n  padding: 1px 4px;\n  font-weight: 500;\n  font-size: 0.8em;\n  margin-right: 4px;\n`;\n\nconst LOG_MAP = {\n  error: LogError,\n  if: LogIf,\n  assignment: LogAssignment,\n  render: LogRender,\n  updateProps: LogProps,\n  updateContext: LogContext,\n\n  'hooks/useState': LogHookUseState,\n  'update/useState': LogUpdateUseState,\n\n  'hooks/useReducer': LogHookUseReducer,\n  'update/useReducer': LogUpdateUseReducer,\n\n  'hooks/useCallback': LogHookUseCallback,\n  'update/useCallback': LogUpdateUseCallback,\n\n  'hooks/useMemo': LogHookUseMemo,\n  'update/useMemo': LogUpdateUseMemo,\n\n  'hooks/useContext': LogHookUseContext,\n  'update/useContext': LogUpdateUseContext,\n\n  'hooks/useEffect': LogHookUseEffect,\n  'update/useEffect': LogHookUpdateEffect,\n  'effect/flush': LogFlushEffect,\n};\n\nfunction Log({ log }) {\n  const LogComponent = LOG_MAP[log.type];\n  if (LogComponent) {\n    return <LogComponent log={log} />;\n  }\n  return null;\n}\n\nfunction LogError({ log }) {\n  return (\n    <div>\n      <Badge color=\"red\">Error</Badge>\n      {String(log.error)}\n    </div>\n  );\n}\n\nfunction LogIf({ log }) {\n  return (\n    <div>\n      <Badge color=\"violet\">If</Badge>\n      Testing If Condition\n    </div>\n  );\n}\n\nfunction LogAssignment({ log }) {\n  return (\n    <div>\n      Assigning <ObjectHover data={log.value} /> to {log.id}\n    </div>\n  );\n}\n\nfunction LogRender({ log }) {\n  return (\n    <div>\n      Return a virtual DOM.{' '}\n      <a\n        href=\"https://reactjs.org/docs/reconciliation.html\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Reconcile\n      </a>{' '}\n      and render to DOM.\n    </div>\n  );\n}\n\nfunction LogProps({ log }) {\n  return (\n    <div>\n      <HookBadge>props</HookBadge>\n      Updated props {log.key} to <ObjectHover data={log.value} />. Schedule a\n      re-render.\n    </div>\n  );\n}\n\nfunction LogContext({ log }) {\n  return (\n    <div>\n      <HookBadge>context</HookBadge>\n      Updated context value <ObjectHover data={log.context} />. Schedule a\n      re-render.\n    </div>\n  );\n}\n\nfunction LogHookUseState({ log }) {\n  return (\n    <div>\n      <HookBadge>useState</HookBadge>\n      {log.isInitial ? (\n        <>\n          Creating new <em>useState</em> hook with initial state{' '}\n          <ObjectHover data={log.state} />\n        </>\n      ) : (\n        <>\n          Reusing <em>useState</em> hook, with state{' '}\n          <ObjectHover data={log.state} /> and setState{' '}\n          <ObjectHover data={log.setState} />{' '}\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction LogUpdateUseState({ log }) {\n  return (\n    <div>\n      <HookBadge>useState</HookBadge>\n      Updated <ObjectHover data={log.oldValue} /> to{' '}\n      <ObjectHover data={log.newValue} />\n    </div>\n  );\n}\n\nfunction LogHookUseReducer({ log }) {\n  return (\n    <div>\n      <HookBadge>useReducer</HookBadge>\n      {log.isInitial ? (\n        <>\n          Creating new <em>useReducer</em> hook with initial state{' '}\n          <ObjectHover data={log.state} /> (\n          {log.init ? (\n            <>\n              Generated by calling <ObjectHover data={log.init} /> with{' '}\n              <ObjectHover data={log.initialArg} />\n            </>\n          ) : (\n            'Passed as 2nd argument in useReducer'\n          )}\n        </>\n      ) : (\n        <>\n          Reusing <em>useReducer</em> hook, with state{' '}\n          <ObjectHover data={log.state} /> and dispatch{' '}\n          <ObjectHover data={log.dispatch} />\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction LogUpdateUseReducer({ log }) {\n  return (\n    <div>\n      <HookBadge>useReducer</HookBadge>\n      Updated to new state <ObjectHover data={log.nextState} /> (return value\n      from calling reducer <ObjectHover data={log.reducer} /> with{' '}\n      <ObjectHover data={log.oldState} /> and <ObjectHover data={log.action} />)\n    </div>\n  );\n}\n\nfunction LogHookUseCallback({ log }) {\n  return (\n    <>\n      <div>\n        <HookBadge>useCallback</HookBadge>\n        Creating new <em>useCallback</em> hook, with deps{' '}\n        <Deps deps={log.deps} />\n      </div>\n      <div>\n        <HookBadge>useCallback</HookBadge>\n        Returning <ObjectHover data={log.callback} />\n      </div>\n    </>\n  );\n}\n\nfunction LogUpdateUseCallback({ log }) {\n  return (\n    <>\n      <div>\n        <HookBadge>useCallback</HookBadge>\n        Reusing <em>useCallback</em> hook\n      </div>\n      <div>\n        <HookBadge>useCallback</HookBadge>\n        Comparing <Deps deps={log.prevDeps} /> with <Deps deps={log.deps} />\n      </div>\n      {log.shouldUpdate && (\n        <div>\n          <HookBadge>useCallback</HookBadge>\n          Deps changed. Discarding <ObjectHover data={log.prevCallback} />\n        </div>\n      )}\n      <div>\n        <HookBadge>useCallback</HookBadge>\n        Returning <ObjectHover data={log.callback} />\n      </div>\n    </>\n  );\n}\n\nfunction LogHookUseMemo({ log }) {\n  return (\n    <>\n      <div>\n        <HookBadge>useMemo</HookBadge>\n        Creating new <em>useMemo</em> hook, with deps <Deps deps={log.deps} />\n      </div>\n      <div>\n        <HookBadge>useMemo</HookBadge>\n        Called <ObjectHover data={log.memo} />\n      </div>\n      <div>\n        <HookBadge>useMemo</HookBadge>\n        Returning <ObjectHover data={log.memoised} />\n      </div>\n    </>\n  );\n}\n\nfunction LogUpdateUseMemo({ log }) {\n  return (\n    <>\n      <div>\n        <HookBadge>useMemo</HookBadge>\n        Reusing <em>useMemo</em> hook\n      </div>\n      <div>\n        <HookBadge>useMemo</HookBadge>\n        Comparing <Deps deps={log.prevDeps} /> with <Deps deps={log.deps} />\n      </div>\n      {log.shouldUpdate && (\n        <>\n          <div>\n            <HookBadge>useMemo</HookBadge>\n            Deps changed. Discarding <ObjectHover data={log.prevMemoised} />\n          </div>\n          <div>\n            <HookBadge>useMemo</HookBadge>\n            Called <ObjectHover data={log.memo} />\n          </div>\n        </>\n      )}\n      <div>\n        <HookBadge>useMemo</HookBadge>\n        Returning <ObjectHover data={log.memoised} />\n      </div>\n    </>\n  );\n}\n\nfunction Deps({ deps }) {\n  return (\n    <>\n      {'['}\n      {deps.map((dep, index) => (\n        <React.Fragment key={index}>\n          {index > 0 && ','}\n          <ObjectHover data={dep} />\n        </React.Fragment>\n      ))}\n      {']'}\n    </>\n  );\n}\n\nfunction LogHookUseContext({ log }) {\n  return (\n    <>\n      <div>\n        <HookBadge>useContext</HookBadge>\n        Creating new <em>useContext</em> hook\n      </div>\n      <div>\n        <HookBadge>useContext</HookBadge>\n        Return context value <ObjectHover data={log.context.value} />\n      </div>\n    </>\n  );\n}\n\nfunction LogUpdateUseContext({ log }) {\n  return (\n    <>\n      <div>\n        <HookBadge>useContext</HookBadge>\n        Reusing <em>useContext</em> hook\n      </div>\n      <div>\n        <HookBadge>useContext</HookBadge>\n        Return context value <ObjectHover data={log.context.value} />\n      </div>\n    </>\n  );\n}\n\nfunction LogHookUseEffect({ log }) {\n  return (\n    <>\n      <div>\n        <HookBadge>useEffect</HookBadge>\n        Creating new <em>useEffect</em> hook, with deps <Deps deps={log.deps} />\n      </div>\n      <div>\n        <HookBadge>useEffect</HookBadge>\n        Scheduled <ObjectHover data={log.callback} /> after component has\n        mounted.\n      </div>\n    </>\n  );\n}\n\nfunction LogHookUpdateEffect({ log }) {\n  return (\n    <>\n      <div>\n        <HookBadge>useEffect</HookBadge>\n        Comparing <Deps deps={log.prevDeps} /> with <Deps deps={log.deps} />\n      </div>\n      {log.shouldUpdate ? (\n        <>\n          <div>\n            <HookBadge>useEffect</HookBadge>\n            Deps changed.\n          </div>\n          <div>\n            <HookBadge>useEffect</HookBadge>\n            Scheduled{' '}\n            {log.prevDestructure && (\n              <>\n                cleanup <ObjectHover data={log.prevDestructure} /> then{' '}\n              </>\n            )}\n            <ObjectHover data={log.callback} /> after component has updated.\n          </div>\n        </>\n      ) : (\n        <div>\n          <HookBadge>useEffect</HookBadge>\n          No changed.\n        </div>\n      )}\n    </>\n  );\n}\n\nfunction LogFlushEffect({ log }) {\n  return (\n    <>\n      {log.prevCleanup && (\n        <div>\n          <HookBadge>useEffect</HookBadge>\n          Execute cleanup: <ObjectHover data={log.prevCleanup} />\n        </div>\n      )}\n      <div>\n        <HookBadge>useEffect</HookBadge>\n        Execute effect: <ObjectHover data={log.effect.callback} />\n      </div>\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nconst gray = 'rgba(0, 0, 0, 0.2)';\nconst TabsOuterContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\nconst TabsContainer = styled.div`\n  position: relative;\n  width: 100%;\n  flex: 1;\n`;\n\nconst TabContainer = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  overflow: auto;\n  opacity: ${props => (props.active ? 1 : 0)};\n  pointer-events: ${props => (props.active ? 'initial' : 'none')};\n  transition: opacity 0.2s ease-in-out;\n`;\nconst TabHeaderContainer = styled.div`\n  border-bottom: 1px solid ${gray};\n`;\nconst TabHeader = styled.div`\n  display: inline-block;\n  padding: 8px 16px;\n  cursor: pointer;\n  color: ${props => (props.active ? 'black' : 'gray')};\n`;\nconst TabDivider = styled.span`\n  margin: 4px 0;\n  border-left: 1px solid ${gray};\n`;\n\nexport function Tabs({ defaultTab, children }) {\n  const tabs = children.map(child => child.props.name);\n  const [activeTab, setActiveTab] = useState(defaultTab || tabs[0]);\n\n  return (\n    <TabsOuterContainer>\n      <TabHeaderContainer>\n        {tabs.map((tab, index) => (\n          <React.Fragment key={tab}>\n            {index > 0 && <TabDivider />}\n            <TabHeader\n              onClick={() => setActiveTab(tab)}\n              active={tab === activeTab}\n            >\n              {tab}\n            </TabHeader>\n          </React.Fragment>\n        ))}\n      </TabHeaderContainer>\n      <TabsContainer>\n        {children.map(child => {\n          if (child.props.name === activeTab) {\n            return React.cloneElement(child, { active: true, key: child.props.name });\n          }\n          return child;\n        })}\n      </TabsContainer>\n    </TabsOuterContainer>\n  );\n}\nexport function Tab({ name, children, active }) {\n  return <TabContainer active={active}>{children}</TabContainer>;\n}\n","// @flow\nimport * as babel from '@babel/core';\nimport reactPreset from '@babel/preset-react';\nimport generate from '@babel/generator';\n\nconst babelOptions = {\n  ast: true,\n  presets: [reactPreset],\n  plugins: [\n    () => ({\n      manipulateOptions(opts, parserOpts) {\n        // enable jsx\n        parserOpts.plugins.push('objectRestSpread');\n      },\n    }),\n  ],\n};\n\nexport function parse(code: string) {\n  return babel\n    .transformAsync(code, babelOptions)\n    .then(({ ast }) => ast)\n}\n\nexport { generate };\n","// @flow\n\nimport { useState, useEffect, useCallback } from 'react';\nimport * as babel from './babel';\n\nexport default function useBabel(\n  initialCode: string\n): [string, any, ?Error, (string) => void] {\n  const [code, setCode] = useState(initialCode);\n  const [error, setError] = useState(null);\n  const [ast, setAst] = useState();\n  const onCodeChange = useCallback((code: string) => setCode(code), [setCode]);\n  const debouncedCode = useDebounce(code, 500);\n\n  useEffect(() => {\n    let cancel = false;\n    babel\n      .parse(debouncedCode)\n      .then(ast => {\n        if (!cancel) {\n          setAst(ast);\n          setError(null);\n        }\n      })\n      .catch(error => {\n        if (!cancel) {\n          setError(error);\n        }\n      });\n    return () => {\n      cancel = true;\n    };\n  }, [debouncedCode, setAst, setError]);\n\n  return [code, ast, error, onCodeChange];\n}\n\nfunction useDebounce(value, delay) {\n  const [debounceValue, setDebounceValue] = useState(value);\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebounceValue(value);\n    }, delay);\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, setDebounceValue, delay]);\n  return debounceValue;\n}\n","// @flow\n/* eslint-disable no-new-func, no-loop-func */\nimport React, { useReducer } from 'react';\nimport * as babel from './babel';\nimport Hook from './hook';\nimport ProxyObject from './ProxyObject';\nimport ContextObject from './ContextObject';\n\ntype Location = {\n  line: number,\n  column: number,\n};\nexport type State = {|\n  status: 'ready' | 'running' | 'pause',\n  componentName: string,\n  hooks: Hook,\n  scope: {},\n  props: {},\n  context: {},\n  statementAt: ?{ start: Location, end: Location },\n  statementIndex: number,\n  statements: ReadOnlyArray<Object>,\n  isComponentDirty: boolean,\n|};\n\nfunction codeRunnerReducer(state: State, action): State {\n  try {\n    switch (action.type) {\n      case 'start': {\n        const {\n          componentName,\n          propNames,\n          statements,\n          outerScope,\n          context,\n        } = analyseCode(action.ast);\n        const scope = { ...outerScope };\n        return {\n          ...state,\n          status: 'running',\n          componentName,\n          props: keysToObjects(propNames),\n          outerScope,\n          scopes: [scope],\n          scope,\n          context,\n          statements,\n          statementIndex: -1,\n        };\n      }\n      case 'next': {\n        const nextStatementIndex =\n          state.statementIndex === -1\n            ? 0\n            : typeof state.ifResult === 'boolean'\n            ? state.ifResult\n              ? state.statements[state.statementIndex].consequent\n              : state.statements[state.statementIndex].alternate\n            : state.statements[state.statementIndex].next;\n        const nextStatement = state.statements[nextStatementIndex];\n\n        let statementAt = null;\n        let {\n          scopes,\n          outerScope,\n          scope,\n          hooks,\n          context,\n          output,\n          ifResult,\n        } = state;\n        let logs = [];\n\n        if (nextStatementIndex > -1) {\n          try {\n            // clone\n            scope = { ...scope };\n            hooks = hooks.clone();\n            context = { ...context };\n\n            if (nextStatementIndex === 0) {\n              Object.assign(scope, state.props);\n            }\n\n            statementAt = nextStatement.statement.loc;\n            ({\n              scope,\n              hooks,\n              logs,\n              context,\n              output,\n              ifResult,\n            } = executeStatement({\n              statement: nextStatement.statement,\n              scope,\n              hooks,\n              context,\n              output,\n            }));\n\n            scopes = scopes.slice(0, -1).concat(scope);\n          } catch (error) {\n            logs.push({ type: 'error', error });\n          }\n        } else {\n          scope = { ...outerScope };\n          scopes = [...scopes, scope];\n\n          hooks = hooks.clone();\n          for (const effect of hooks.effects) {\n            const prevCleanup = hooks.hooks[effect.pointer].destructure;\n            if (prevCleanup) {\n              // cleanup\n              prevCleanup();\n            }\n            const cleanupFn = effect.callback();\n            logs.push({\n              type: 'effect/flush',\n              effect,\n              prevCleanup,\n            });\n\n            hooks.hooks[effect.pointer].destructure = cleanupFn;\n          }\n          hooks.effects = [];\n          hooks.hookPointer = -1;\n        }\n\n        return {\n          ...state,\n          statementIndex: nextStatementIndex,\n          statementAt,\n          scopes,\n          scope,\n          hooks,\n          context,\n          output,\n          ifResult,\n\n          // componentDirty\n          isComponentDirty:\n            nextStatementIndex === 0 ? false : state.isComponentDirty,\n\n          // logs\n          logs,\n        };\n      }\n      case 'updateHook': {\n        const logs = [];\n        const newHooks = state.hooks.clone();\n        const method = `update_${action.hookType}`;\n\n        if (typeof newHooks[method] === 'function') {\n          newHooks[method](action.hookIndex, action.data, logs);\n        } else {\n          alert(`${action.hookType} not implemented`);\n        }\n\n        return {\n          ...state,\n          isComponentDirty: true,\n          hooks: newHooks,\n          logs,\n        };\n      }\n      case 'updateProps':\n        return {\n          ...state,\n          props: {\n            ...state.props,\n            [action.key]: new ProxyObject(action.value),\n          },\n          isComponentDirty: true,\n          logs: [action],\n        };\n      case 'updateContext':\n        const newContext = state.context[action.key].setValue(action.value);\n        return {\n          ...state,\n          outerScope: {\n            ...state.outerScope,\n            [action.key]: newContext,\n          },\n          context: {\n            ...state.context,\n            [action.key]: newContext,\n          },\n          isComponentDirty: true,\n          logs: [{ ...action, context: newContext }],\n        };\n      case 'reset':\n        return initialState;\n      default:\n        return state;\n    }\n  } catch (error) {\n    return { ...state, logs: [...state.logs, { type: 'error', error }] };\n  }\n}\n\nconst initialState: State = {\n  status: 'ready',\n  componentName: '',\n  hooks: new Hook(),\n  scope: {},\n  props: {},\n  context: {},\n  statementAt: null,\n  isComponentDirty: false,\n  output: null,\n};\n\nexport default function useCodeRunner(): [State, (Action) => void] {\n  const [state, dispatch] = useReducer(codeRunnerReducer, initialState);\n  state.hooks.setDispatch(dispatch);\n  return [state, dispatch];\n}\n\nfunction analyseCode(ast) {\n  const componentFunction = tryFindComponentFunction(ast);\n  if (componentFunction) {\n    const componentName = getComponentName(componentFunction);\n    const propNames = getProps(componentFunction);\n    const statements = flattenStatements(componentFunction.body.body);\n    const { scope: outerScope, context } = evalRestOfCodeIntoScope(ast);\n\n    return {\n      componentName,\n      propNames,\n      statements,\n      outerScope,\n      context,\n    };\n  }\n  return null;\n}\n\nfunction tryFindComponentFunction(ast) {\n  const exportDefault = ast.program.body.filter(\n    node => node.type === 'ExportDefaultDeclaration'\n  )[0];\n  if (exportDefault) {\n    return exportDefault.declaration;\n  }\n  return null;\n}\nfunction getComponentName(ast) {\n  return ast.id.name;\n}\nfunction getProps(ast) {\n  const props = ast.params[0];\n  if (props) {\n    if (props.type === 'ObjectPattern') {\n      return props.properties.map(property => {\n        return property.key.name;\n      });\n    } else {\n      // TODO: find\n      console.error('please use destructuring');\n    }\n  }\n  return [];\n}\n\nfunction evalRestOfCodeIntoScope(ast) {\n  const otherCodes = ast.program.body.filter(\n    node => node.type !== 'ExportDefaultDeclaration'\n  );\n  const scope = {};\n  const context = {};\n  for (const otherCode of otherCodes) {\n    executeStatement({\n      statement: otherCode,\n      scope,\n      hooks: null,\n      context,\n    });\n  }\n  return { scope, context };\n}\n\n// TODO: infer props via referenced object type\n// function findReferencedStatements(identifierName, statements) {\n//   const redeclared =\n//     statements\n//       .filter(statement => statement.type === 'VariableDeclaration')\n//       .reduce((result, statement) => result.concat(statement.declarations), [])\n//       .filter(declaration => declaration.id.name === identifierName).length > 0;\n//   if (redeclared) {\n//     return [];\n//   }\n//   // TODO: tree traversal to find `MemberExpression` identifierName.xxx\n//   return statements.map(statement => {\n//     switch (statement.type) {\n//       case 'VariableDeclaration':\n//         return statement.declarations.filter(\n//           declaration =>\n//             declaration.init.type === 'Identifier' &&\n//             declaration.init.name === identifierName\n//         );\n//       case ''\n//     }\n//   });\n// }\nfunction flattenStatements(statements) {\n  const result = [];\n  let i = 0;\n  for (const statement of statements) {\n    switch (statement.type) {\n      case 'VariableDeclaration':\n        statement.declarations.forEach(declaration =>\n          result.push({\n            statement: declaration,\n            next: ++i,\n          })\n        );\n        break;\n      case 'ReturnStatement':\n        result.push({\n          statement,\n          next: -1, // end\n        });\n        break;\n      case 'ExpressionStatement':\n        result.push({\n          statement,\n          next: ++i,\n        });\n        break;\n      case 'IfStatement': {\n        const ifStatement = {\n          statement,\n          next: ++i,\n        };\n        const consequent = flattenStatements(\n          normalizeBlock(statement.consequent)\n        );\n        const alternate = flattenStatements(\n          normalizeBlock(statement.alternate)\n        );\n\n        result.push(ifStatement);\n        ifStatement.consequent = result.length;\n        for (const s of consequent) {\n          result.push({\n            statement: s.statement,\n            next: i + s.next,\n          });\n        }\n        result[result.length - 1].next += alternate.length;\n\n        ifStatement.alternate = i = result.length;\n        for (const s of alternate) {\n          result.push({\n            statement: s.statement,\n            next: i + s.next,\n          });\n        }\n        i = result.length;\n        break;\n      }\n      // TODO: handle if else\n      default:\n    }\n  }\n  return result;\n}\n\nfunction normalizeBlock(node) {\n  if (node.type === 'BlockStatement') {\n    return node.body;\n  }\n  return [node];\n}\n\nfunction keysToObjects(keys) {\n  const result = {};\n  for (const key of keys) {\n    result[key] = new ProxyObject(null);\n  }\n  return result;\n}\n\nfunction executeStatement({\n  statement,\n  scope: nextScope,\n  hooks: nextHook,\n  context: nextContext,\n  output: nextOutput,\n}) {\n  const logs = [];\n  let ifResult = undefined;\n  switch (statement.type) {\n    case 'VariableDeclaration': {\n      statement.declarations.forEach(declaration =>\n        executeStatement({\n          statement: declaration,\n          scope: nextScope,\n          hooks: nextHook,\n          context: nextContext,\n        })\n      );\n      break;\n    }\n    case 'VariableDeclarator': {\n      const value = evaluateExpression(\n        statement.init,\n        {\n          scope: nextScope,\n          hook: nextHook,\n          context: nextContext,\n          name: statement.id.name,\n        },\n        logs\n      );\n      if (statement.id.type === 'Identifier') {\n        nextScope[statement.id.name] = value;\n\n        logs.push({ type: 'assignment', id: statement.id.name, value });\n      } else if (statement.id.type === 'ArrayPattern') {\n        statement.id.elements.forEach((identifier, index) => {\n          nextScope[identifier.name] = value[index];\n\n          logs.push({\n            type: 'assignment',\n            id: identifier.name,\n            value: value[index],\n          });\n        });\n      }\n      break;\n    }\n    case 'ReturnStatement':\n      nextOutput = evaluateExpression(\n        statement.argument,\n        { scope: nextScope, hook: nextHook, context: nextContext },\n        logs\n      ).getValue();\n\n      logs.push({ type: 'render' });\n      break;\n    case 'FunctionDeclaration':\n      nextScope[statement.id.name] = evaluateExpression(\n        statement,\n        {\n          scope: nextScope,\n          hook: nextHook,\n          context: nextContext,\n          name: statement.id.name,\n        },\n        logs\n      );\n      break;\n    case 'ExpressionStatement': {\n      evaluateExpression(\n        statement.expression,\n        {\n          scope: nextScope,\n          hook: nextHook,\n          context: nextContext,\n        },\n        logs\n      );\n      break;\n    }\n    case 'IfStatement': {\n      const testResult = evaluateExpression(\n        statement.test,\n        {\n          scope: nextScope,\n          hook: nextHook,\n          context: nextContext,\n        },\n        logs\n      );\n      ifResult = !!testResult.data;\n      logs.push({ type: 'if', ifResult });\n      break;\n    }\n    default:\n      console.warn(statement.type);\n  }\n  return {\n    scope: nextScope,\n    hooks: nextHook,\n    context: nextContext,\n    output: nextOutput,\n    ifResult,\n    logs,\n  };\n}\n\nfunction evaluateExpression(ast, { scope, hook, context, name }, logs) {\n  switch (ast.type) {\n    case 'NumericLiteral':\n    case 'StringLiteral':\n    case 'BooleanLiteral':\n    case 'ObjectExpression':\n      return new ProxyObject(\n        dangerousEvalWithScope(babel.generate(ast).code, scope)\n      );\n    case 'ArrayExpression':\n      return ast.elements.map(element =>\n        evaluateExpression(element, { scope, hook, context, name }, logs)\n      );\n    case 'CallExpression':\n      if (ast.callee.type === 'Identifier') {\n        const callee = ast.callee.name;\n\n        if (callee.startsWith('use')) {\n          const method = `add_${callee}`;\n          if (typeof hook[method] === 'function') {\n            const args = ast.arguments.map(argument =>\n              evaluateExpression(argument, { scope, hook, context, name }, logs)\n            );\n            return hook[method](...args, logs);\n          } else {\n            alert(`${callee} not implemented`);\n            return [];\n          }\n        }\n      } else if (ast.callee.type === 'MemberExpression') {\n        const obj = ast.callee.object.name;\n        const prop = ast.callee.property.name;\n        if (obj === 'React' && prop === 'createContext') {\n          let defaultValue = undefined;\n          if (ast.arguments.length > 0) {\n            defaultValue = evaluateExpression(\n              ast.arguments[0],\n              { scope, hook, context, name },\n              logs\n            );\n          }\n          context[name] = new ContextObject(name, defaultValue);\n          return context[name];\n        }\n      }\n      return new ProxyObject(\n        dangerousEvalWithScope(babel.generate(ast).code, scope)\n      );\n    case 'Identifier':\n      return scope[ast.name];\n    case 'FunctionDeclaration':\n    case 'BinaryExpression':\n      return dangerousEvalWithScope(babel.generate(ast).code, scope);\n    case 'ArrowFunctionExpression':\n    case 'FunctionExpression': {\n      const fn = dangerousEvalWithScope(babel.generate(ast).code, scope);\n      if (!fn.name && name) {\n        return namedFunction(fn, name);\n      }\n      return fn;\n    }\n    default:\n  }\n}\n\nfunction dangerousEvalWithScope(code, scope) {\n  return Function(\n    'React',\n    `{${Object.keys(scope).join(',')}}`,\n    `return ${code}`\n  )(React, deproxy(scope));\n}\n\nfunction deproxy(obj) {\n  return Object.keys(obj).reduce((result, key) => {\n    if (obj[key] instanceof ProxyObject) {\n      result[key] = obj[key].getValue();\n    } else {\n      result[key] = obj[key];\n    }\n    return result;\n  }, {});\n}\n\nfunction namedFunction(fn, name) {\n  const fnObj = {\n    [name](...args) {\n      return fn(...args);\n    },\n  };\n  return fnObj[name];\n}\n","// @flow\nimport ProxyObject from './ProxyObject';\n\nexport default class Hook {\n  constructor() {\n    this.hooks = [];\n    this.effects = [];\n    this.hookPointer = -1;\n  }\n\n  setDispatch(dispatch) {\n    this.dispatch = dispatch;\n  }\n\n  add_useState(initialState, logs) {\n    this.hookPointer++;\n    if (this.hooks[this.hookPointer] !== undefined) {\n      this.expectHook('useState');\n\n      const { state, setState } = this.hooks[this.hookPointer];\n\n      logs.push({ type: 'hooks/useState', isInitial: false, state, setState });\n\n      return [state, setState];\n    }\n    const state = initialState;\n    const setState = value => {\n      this.dispatch({\n        type: 'updateHook',\n        hookType: 'useState',\n        hookIndex: this.hookPointer,\n        data: { value },\n      });\n    };\n    this.hooks.push({\n      type: 'useState',\n      state,\n      setState,\n    });\n\n    logs.push({ type: 'hooks/useState', isInitial: true, state, setState });\n\n    return [state, setState];\n  }\n\n  update_useState(hookIndex, { value: newValue }, logs) {\n    const hook = this.hooks[hookIndex];\n    let nextState;\n    let oldValue = hook.state;\n    if (typeof newValue === 'function') {\n      nextState = hook.state.setValue(newValue(oldValue.getValue()));\n    } else {\n      nextState = hook.state.setValue(newValue);\n    }\n\n    logs.push({ type: 'update/useState', oldValue, newValue: nextState });\n\n    this.hooks[hookIndex] = {\n      ...hook,\n      state: nextState,\n    };\n  }\n\n  add_useReducer(reducer) {\n    this.hookPointer++;\n\n    // optional arguments\n    const initialArg = arguments.length > 2 ? arguments[1] : undefined;\n    const init = arguments.length > 3 ? arguments[2] : undefined;\n    // logs is always the last argument, because other args can be optional\n    const logs = arguments[arguments.length - 1];\n\n    if (this.hooks[this.hookPointer] !== undefined) {\n      this.expectHook('useReducer');\n\n      const { state, dispatch } = this.hooks[this.hookPointer];\n\n      logs.push({\n        type: 'hooks/useReducer',\n        isInitial: false,\n        state,\n        dispatch,\n      });\n\n      return [state, dispatch];\n    }\n\n    const state =\n      typeof init === 'function'\n        ? new ProxyObject(init(initialArg.getValue()))\n        : initialArg;\n\n    const dispatch = action => {\n      this.dispatch({\n        type: 'updateHook',\n        hookType: 'useReducer',\n        hookIndex: this.hookPointer,\n        data: { action },\n      });\n    };\n    this.hooks.push({\n      type: 'useReducer',\n      state,\n      dispatch,\n      reducer,\n    });\n\n    logs.push({\n      type: 'hooks/useReducer',\n      isInitial: true,\n      state,\n      dispatch,\n      initialArg,\n      init,\n    });\n\n    return [state, dispatch];\n  }\n\n  update_useReducer(hookIndex, { action }, logs) {\n    const hook = this.hooks[hookIndex];\n\n    const oldState = hook.state;\n    let nextState = hook.state.setValue(\n      hook.reducer(oldState.getValue(), action)\n    );\n\n    logs.push({\n      type: 'update/useReducer',\n      reducer: hook.reducer,\n      action,\n      oldState,\n      nextState,\n    });\n\n    this.hooks[hookIndex] = {\n      ...hook,\n      state: nextState,\n    };\n  }\n\n  add_useCallback(callback) {\n    this.hookPointer++;\n\n    // optional arguments\n    const deps = arguments.length > 2 ? arguments[1] : undefined;\n    // logs is always the last argument, because other args can be optional\n    const logs = arguments[arguments.length - 1];\n\n    if (this.hooks[this.hookPointer] !== undefined) {\n      this.expectHook('useCallback');\n\n      const hook = this.hooks[this.hookPointer];\n      const { callback: prevCallback, deps: prevDeps } = hook;\n\n      let shouldUpdate = false;\n      for (let i = 0; i < deps.length; i++) {\n        if (prevDeps[i] !== deps[i]) {\n          shouldUpdate = true;\n          break;\n        }\n      }\n\n      const newCallback = shouldUpdate ? callback : prevCallback;\n\n      logs.push({\n        type: 'update/useCallback',\n        shouldUpdate,\n        callback: newCallback,\n        prevCallback,\n        deps,\n        prevDeps,\n      });\n\n      this.hooks[this.hookPointer] = {\n        ...hook,\n        callback: newCallback,\n        deps,\n      };\n\n      return newCallback;\n    }\n\n    this.hooks.push({\n      type: 'useCallback',\n      callback,\n      deps,\n    });\n\n    logs.push({ type: 'hooks/useCallback', callback, deps });\n\n    return callback;\n  }\n\n  add_useMemo(memo) {\n    this.hookPointer++;\n\n    // optional arguments\n    const deps = arguments.length > 2 ? arguments[1] : undefined;\n    // logs is always the last argument, because other args can be optional\n    const logs = arguments[arguments.length - 1];\n\n    if (this.hooks[this.hookPointer] !== undefined) {\n      this.expectHook('useMemo');\n\n      const hook = this.hooks[this.hookPointer];\n      const { memoised: prevMemoised, deps: prevDeps } = hook;\n\n      let shouldUpdate = false;\n      for (let i = 0; i < deps.length; i++) {\n        if (prevDeps[i] !== deps[i]) {\n          shouldUpdate = true;\n          break;\n        }\n      }\n\n      const newMemoised = shouldUpdate ? new ProxyObject(memo()) : prevMemoised;\n\n      logs.push({\n        type: 'update/useMemo',\n        shouldUpdate,\n        memoised: newMemoised,\n        prevMemoised,\n        deps,\n        prevDeps,\n        memo,\n      });\n\n      this.hooks[this.hookPointer] = {\n        ...hook,\n        memoised: newMemoised,\n        deps,\n      };\n\n      return newMemoised;\n    }\n\n    const memoised = new ProxyObject(memo());\n\n    this.hooks.push({\n      type: 'useMemo',\n      memoised,\n      deps,\n    });\n\n    logs.push({ type: 'hooks/useMemo', memoised, memo, deps });\n\n    return memoised;\n  }\n\n  add_useContext(context, logs) {\n    this.hookPointer++;\n    if (this.hooks[this.hookPointer] !== undefined) {\n      this.expectHook('useContext');\n\n      logs.push({ type: 'update/useContext', context });\n\n      this.hooks[this.hookPointer] = {\n        ...this.hooks[this.hookPointer],\n        context,\n      };\n      return this.hooks[this.hookPointer].context.value;\n    }\n\n    this.hooks.push({\n      type: 'useContext',\n      context,\n    });\n\n    logs.push({ type: 'hooks/useContext', context });\n\n    return context.value;\n  }\n\n  add_useEffect(callback) {\n    // optional arguments\n    const deps = arguments.length > 2 ? arguments[1] : undefined;\n    // logs is always the last argument, because other args can be optional\n    const logs = arguments[arguments.length - 1];\n\n    this.hookPointer++;\n    if (this.hooks[this.hookPointer] !== undefined) {\n      this.expectHook('useEffect');\n\n      const hook = this.hooks[this.hookPointer];\n      const { deps: prevDeps, destructure: prevDestructure } = hook;\n\n      let shouldUpdate = false;\n      for (let i = 0; i < deps.length; i++) {\n        if (prevDeps[i] !== deps[i]) {\n          shouldUpdate = true;\n          break;\n        }\n      }\n\n      logs.push({\n        type: 'update/useEffect',\n        callback,\n        deps,\n        prevDeps,\n        shouldUpdate,\n        prevDestructure,\n      });\n\n      if (shouldUpdate) {\n        this.hooks[this.hookPointer] = {\n          ...this.hooks[this.hookPointer],\n          callback,\n          deps,\n        };\n        this.effects.push({\n          callback,\n          pointer: this.hookPointer,\n        });\n      }\n      return;\n    }\n\n    this.hooks.push({\n      type: 'useEffect',\n      callback,\n      deps,\n    });\n    this.effects.push({\n      callback,\n      pointer: this.hookPointer,\n    });\n\n    logs.push({ type: 'hooks/useEffect', callback, deps });\n  }\n\n  clone() {\n    const hook = new Hook();\n    hook.hooks = [...this.hooks];\n    hook.hookPointer = this.hookPointer;\n    hook.dispatch = this.dispatch;\n    hook.effects = [...this.effects];\n    return hook;\n  }\n\n  expectHook(hookName) {\n    const currentHookName = this.hooks[this.hookPointer].type;\n    if (currentHookName !== hookName) {\n      throw new Error(\n        `Expecting \"${hookName}\", however encountered \"${currentHookName}\"`\n      );\n    }\n  }\n}\n","// @flow\nimport { useReducer, useEffect, useCallback } from 'react';\n\ntype State<T> = {\n  history: $ReadOnlyArray<T>,\n  index: number\n};\ntype Action<T> =\n  | {|\n      type: 'push',\n      data: T\n    |}\n  | {| type: 'goto', index: number |}\n  | {| type: 'clear' |};\n\nconst initialState = {\n  history: [],\n  index: -1\n};\n\nconst historyReducer = <T>(\n  state: State<T>,\n  action: Action<T>\n): State<T> => {\n  switch (action.type) {\n    case 'push':\n      return {\n        history: [...state.history, action.data],\n        index: state.index + 1\n      };\n    case 'goto':\n      return {\n        ...state,\n        index: action.index\n      };\n    case 'clear':\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport default function useHistory<T>(state: T): T {\n  const [history, dispatchHistory] = useReducer(historyReducer, initialState);\n\n  useEffect(() => {\n    dispatchHistory({ type: 'push', data: state });\n  }, [state, dispatchHistory]);\n\n  const currentState =\n    history.index < 0 ? null : history.history[history.index];\n\n  // const gotoHistory = useCallback(\n  //   index => dispatchHistory({ type: 'goto', index }),\n  //   [dispatchHistory]\n  // );\n  const clearHistory = useCallback(() => dispatchHistory({ type: 'clear' }), [\n    dispatchHistory\n  ]);\n\n  return [currentState, history.history, clearHistory]; // </T></T>, gotoHistory, clearHistory];\n}\n","// @flow\n\nimport React, { useMemo, useEffect } from 'react';\nimport styled from 'styled-components';\nimport SplitPane from 'react-split-pane';\nimport Editor from './components/Editor';\nimport EditorPanel from './components/EditorPanel';\nimport { ObjectHoverProvider } from './components/ObjectHover';\nimport Hooks from './components/Hooks';\nimport Effects from './components/Effect';\nimport Scope from './components/Scope';\nimport Props from './components/Props';\nimport Context from './components/Context';\nimport History from './components/History';\nimport { Tabs, Tab } from './components/Tab';\n\nimport useBabel from './utils/useBabel';\nimport useCodeRunner from './utils/useCodeRunner';\nimport useHistory from './utils/useHistory';\n\nimport './App.module.scss';\n\nconst { code: initialCode = '' } = parseQueryParams();\n\nconst Container = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background: white;\n  flex: 1;\n`;\nconst VerticalContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n`;\nconst Header = styled.div`\n  text-align: center;\n  padding: 8px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  position: sticky;\n  top: 0;\n  background: white;\n  z-index: 1;\n`;\n\nfunction App() {\n  const [code, ast, error, onCodeChange] = useBabel(initialCode);\n  const [codeState, dispatchCodeAction] = useCodeRunner();\n  const [currentCodeState, codeStateHistory, clearHistory] = useHistory(\n    codeState\n  );\n\n  const marker = useMemo(() => {\n    if (currentCodeState && currentCodeState.statementAt) {\n      const { start, end } = currentCodeState.statementAt;\n      return [\n        {\n          startRow: start.line - 1,\n          startCol: start.column,\n          endRow: end.line - 1,\n          endCol: end.column,\n          className: 'highlight-marker',\n          type: 'background',\n        },\n      ];\n    }\n    return [];\n  }, [currentCodeState]);\n\n  useQueryParams(code);\n\n  return (\n    <SplitPane split=\"vertical\" defaultSize=\"45%\">\n      <Container>\n        <EditorPanel\n          running={\n            currentCodeState ? currentCodeState.status === 'running' : false\n          }\n          nextText={\n            currentCodeState && currentCodeState.statementIndex === -1\n              ? 'Render'\n              : 'Next'\n          }\n          nextHint={\n            currentCodeState && currentCodeState.isComponentDirty === true\n              ? 'Scheduled a re-render'\n              : null\n          }\n          disableRun={!!error}\n          onRun={() => dispatchCodeAction({ type: 'start', ast })}\n          onNext={() => dispatchCodeAction({ type: 'next' })}\n          onReset={() => {\n            dispatchCodeAction({ type: 'reset' });\n            clearHistory();\n          }}\n        />\n        <Editor\n          code={code}\n          onCodeChange={onCodeChange}\n          markers={marker}\n          readOnly={currentCodeState && currentCodeState.status === 'running'}\n        />\n      </Container>\n      <VerticalContainer>\n        {currentCodeState && currentCodeState.status === 'running' ? (\n          <ObjectHoverProvider>\n            <Header>\n              <div>Component Name: {currentCodeState.componentName}</div>\n            </Header>\n            <Container>\n              <SplitPane split=\"horizontal\" defaultSize=\"60%\">\n                <SplitPane split=\"vertical\" defaultSize=\"50%\">\n                  <Tabs>\n                    <Tab name=\"Scope\">\n                      <Scope scopes={currentCodeState.scopes} />\n                    </Tab>\n                    <Tab name=\"Props\">\n                      <Props\n                        props={currentCodeState.props}\n                        onPropsChange={(key, value) => {\n                          dispatchCodeAction({\n                            type: 'updateProps',\n                            key,\n                            value,\n                          });\n                        }}\n                      />\n                    </Tab>\n                    <Tab name=\"Context\">\n                      <Context\n                        context={currentCodeState.context}\n                        onContextChange={(key, value) => {\n                          dispatchCodeAction({\n                            type: 'updateContext',\n                            key,\n                            value,\n                          });\n                        }}\n                      />\n                    </Tab>\n                  </Tabs>\n                  <Tabs>\n                    <Tab name=\"Hooks\">\n                      <Hooks hook={currentCodeState.hooks} />\n                    </Tab>\n                    <Tab name=\"Effects\">\n                      <Effects effects={currentCodeState.hooks.effects} />\n                    </Tab>\n                  </Tabs>\n                </SplitPane>\n                <Tabs>\n                  <Tab name=\"Logs\">\n                    <History history={codeStateHistory} />\n                  </Tab>\n                  <Tab name=\"Output\">\n                    <div id=\"render-here\">{currentCodeState.output}</div>\n                  </Tab>\n                </Tabs>\n              </SplitPane>\n            </Container>\n          </ObjectHoverProvider>\n        ) : null}\n      </VerticalContainer>\n    </SplitPane>\n  );\n}\n\nfunction useQueryParams(code) {\n  useEffect(() => {\n    window.location.hash = `?code=${encodeURIComponent(code)}`;\n  }, [code]);\n}\n\nfunction parseQueryParams() {\n  return window.location.hash\n    .replace(/^#\\??/, '')\n    .split('&')\n    .map(part => part.split('='))\n    .reduce((result, parts) => {\n      result[parts[0]] = decodeURIComponent(parts[1]);\n      return result;\n    }, {});\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}